<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Auto-Hypnose Guid√©e</title>
    
    <!-- CSS de base -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="mobile-optimization.css">
    
    <!-- PWA Meta tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0A2463">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Splash Screens -->
    <!-- Pour iPhone X (1125px x 2436px) -->
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" href="hypnorelax-splash-cs6-xxxhdpi.png">
    
    <!-- Pour iPhone 8, 7, 6s, 6 (750px x 1334px) -->
    <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="hypnorelax-splash-cs6-xhdpi.png">
    
    <!-- Pour iPhone 8 Plus, 7 Plus, 6s Plus, 6 Plus (1242px x 2208px) -->
    <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)" href="hypnorelax-splash-cs6-xxxhdpi.png">
    
    <!-- Pour iPad Air, iPad Mini, etc. -->
    <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" href="hypnorelax-splash-xxhpdi.png">
    
    <!-- Pour tous les autres appareils -->
    <link rel="apple-touch-startup-image" href="hypnorelax-splash-cs6-xxxhdpi.png">
    
    <!-- NoSleep.js pour emp√™cher l'√©cran de se mettre en veille -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nosleep/0.12.0/NoSleep.min.js"></script>
</head>
<body>
<!--
=============================================================================
PROPRI√âT√â INTELLECTUELLE ET DROITS D'AUTEUR
=============================================================================
Application d'Auto-Hypnose Guid√©e
Copyright ¬© 2025 Joffrey ROS (joffrey66@gmail.com). Tous droits r√©serv√©s.

AVIS L√âGAL:
Cette ≈ìuvre est prot√©g√©e par les lois fran√ßaises et internationales sur
le droit d'auteur et la propri√©t√© intellectuelle. En vertu du Code de la 
propri√©t√© intellectuelle fran√ßais, notamment les articles L.111-1 et suivants,
ainsi que les conventions internationales incluant la Convention de Berne.

UTILISATION INTERDITE SANS AUTORISATION:
Toute reproduction, distribution, modification, adaptation, traduction,
repr√©sentation publique ou utilisation de cette ≈ìuvre, en tout ou partie,
sous quelque forme et par quelque moyen que ce soit, √©lectronique,
m√©canique ou autre, est strictement interdite sans l'autorisation
√©crite pr√©alable de l'auteur, Joffrey ROS.

Pour toute demande d'utilisation, veuillez contacter: joffrey66@gmail.com
=============================================================================
-->
<!--
=============================================================================
SIGNATURE NUM√âRIQUE
=============================================================================
ID: AHGJR-25072023-H001
Auteur: Joffrey ROS
Email: joffrey66@gmail.com
Date de cr√©ation: 07/03/2025
Signature: JR-f5e8a4d1b6c7e9f0a3d2b1c8e7d6a5f4-2025
=============================================================================
-->

<!-- Indicateur visuel d'√©cran actif -->
<div id="keep-awake-indicator" style="position: fixed; top: 10px; left: 10px; 
    background-color: rgba(0,0,0,0.5); color: white; font-size: 10px; 
    padding: 4px 8px; border-radius: 10px; display: none; z-index: 9999;">
    √âcran actif üîÜ
</div>

<div class="container">
    <header>
        <h1>S√©ance d'Auto-Hypnose Guid√©e</h1>
    </header>
    
    <!-- Logo et nom de l'application -->
    <div class="app-branding">
        <div class="app-name">Hypnorelax</div>
    </div>
    
    <!-- Navigation steps -->
    <div class="progress-steps">
        <div class="progress-line"></div>
        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
        <div class="step active" id="step1">
            <div class="step-label">Accueil</div>
        </div>
        <div class="step" id="step2">
            <div class="step-label">Pr√©paration</div>
        </div>
        <div class="step" id="step3">
            <div class="step-label">Induction</div>
        </div>
        <div class="step" id="step4">
            <div class="step-label">Profondeur</div>
        </div>
        <div class="step" id="step5">
            <div class="step-label">Exploration</div>
        </div>
        <div class="step" id="step6">
            <div class="step-label">Retour</div>
        </div>
    </div>
    
    <!-- Page d'accueil -->
    <div class="page active" id="page1">
        <div class="intro-content">
            <div class="intro-icon">
                <div class="spiral-small"></div>
            </div>
            <h2>Bienvenue √† votre s√©ance d'auto-hypnose</h2>
            <div class="intro-text">
                <p>Cette s√©ance est con√ßue pour vous guider progressivement vers un √©tat hypnotique √† travers une s√©rie d'exercices.</p>
                <p>Prenez le temps de vous installer confortablement dans un endroit calme o√π vous ne serez pas d√©rang√©(e) pendant environ 15 minutes.</p>
                
                <div class="audio-controls">
                    <div class="audio-toggle">
                        <label for="audioToggle">Guidage vocal</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="audioToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <div class="speaking-indicator" id="speakingIndicator"></div>
                    </div>
                    
                    <div class="voice-selection">
                        <label for="voiceSelect">Voix</label>
                        <select id="voiceSelect">
                            <option value="default">Chargement des voix...</option>
                        </select>
                    </div>
                    
                    <div class="volume-control">
                        <label for="volumeSlider">Volume</label>
                        <input type="range" min="0" max="1" step="0.1" value="0.8" class="volume-slider" id="volumeSlider">
                    </div>
                    
                    <!-- Ajouter ce bloc dans la div "audio-controls" de votre HTML, juste apr√®s le contr√¥le du volume -->
                    <div class="audio-toggle">
                        <label for="binauralToggle">Son hypnotique</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="binauralToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="volume-control">
                        <label for="binauralVolumeSlider">Volume son</label>
                        <input type="range" min="0" max="0.3" step="0.01" value="0.1" class="volume-slider" id="binauralVolumeSlider">
                    </div>
                    <p class="binaural-info">Les sons binauraux favorisent l'entr√©e en transe hypnotique en synchronisant vos ondes c√©r√©brales. Activez-les pour une exp√©rience plus profonde.</p>
                </div>
                
                <div class="steps-list">
                    <p><strong>Voici les √©tapes que nous allons suivre :</strong></p>
                    <ul>
                        <li>Pr√©paration et relaxation</li>
                        <li>Induction hypnotique visuelle</li>
                        <li>Approfondissement de l'√©tat</li>
                        <li>Exploration de la transe</li>
                        <li>Retour en conscience ordinaire</li>
                    </ul>
                </div>
                
                <p><strong>Important :</strong> Cette exp√©rience est √† but √©ducatif. Ne pratiquez pas cette s√©ance si vous conduisez ou utilisez une machine. Si vous souffrez d'√©pilepsie ou de probl√®mes psychiatriques, consultez un professionnel avant d'essayer l'auto-hypnose.</p>
            </div>
        </div>
        <div class="btn-container">
            <button class="btn" id="startBtn">Commencer la s√©ance</button>
        </div>
    </div>
    
    <!-- Page de pr√©paration -->
    <div class="page" id="page2">
        <h2>Pr√©paration - Coh√©rence Cardiaque</h2>
        
        <div id="coherenceIntroduction">
            <div class="coherence-instructions">
                <h3>Qu'est-ce que la coh√©rence cardiaque ?</h3>
                <p>La coh√©rence cardiaque est une technique de respiration qui aide √† synchroniser votre rythme cardiaque et votre respiration. Elle permet d'induire rapidement un √©tat de calme et de d√©tente, id√©al avant une s√©ance d'hypnose.</p>
                
                <h3>Comment pratiquer :</h3>
                <ul>
                    <li>Respirez lentement, √† raison de 6 respirations par minute (5 secondes d'inspiration, 5 secondes d'expiration)</li>
                    <li>Suivez le mouvement du cercle bleu : mont√©e = inspiration, descente = expiration</li>
                    <li>Gardez une respiration fluide et r√©guli√®re, sans √†-coups</li>
                    <li>Vous pouvez fermer les yeux apr√®s vous √™tre familiaris√© avec le rythme - la voix vous guidera</li>
                </ul>
            </div>
            
            <div class="btn-container">
                <button class="btn" id="startCoherenceBtn">Commencer la coh√©rence cardiaque</button>
            </div>
        </div>
        
        <div id="coherenceContainer" style="display: none;">
            <div class="hypnotic-container">
                <div class="coherence-container">
                    <div class="breath-path"></div>
                    <div class="breath-circle" id="breathCircle"></div>
                    <div class="breath-label breath-in-label" id="breathInLabel">Inspirez</div>
                    <div class="breath-label breath-out-label" id="breathOutLabel">Expirez</div>
                </div>
                
                <div class="timer-display" id="timerDisplay">02:00</div>
                
                <div class="instruction" id="coherenceInstruction">
                    Suivez le rythme du cercle pour votre respiration
                </div>
            </div>
            
            <div class="btn-container">
                <button class="btn" id="nextPrepBtn">Continuer</button>
            </div>
        </div>
    </div>
    
    <!-- Page d'induction -->
    <div class="page" id="page3">
        <h2>Induction Hypnotique</h2>
        
        <div class="hypnotic-container">
            <div class="spiral-container">
                <div class="spiral"></div>
                <div class="spiral-center"></div>
                <div class="focus-dot"></div>
            </div>
            
            <div class="instruction" id="inductionInstruction">
                Fixez votre regard sur le point central
            </div>
            <div class="counter" id="inductionCounter">10</div>
        </div>
        
        <div class="btn-container">
            <button class="btn" id="skipInductionBtn">Passer cette √©tape</button>
        </div>
    </div>
    
    <!-- Page d'approfondissement -->
    <div class="page" id="page4">
        <h2>Profondeur</h2>
        
        <div class="hypnotic-container">
            <div class="instruction" id="deepeningInstruction">
                Imaginez un escalier qui descend doucement...
            </div>
            
            <div class="counter" id="stairsCounter">10</div>
            
            <p>√Ä chaque marche descendue, vous vous sentez de plus en plus d√©tendu(e), de plus en plus calme...</p>
            
            <!-- Nouvel escalier hypnotique rempla√ßant le rond bleu -->
            <div class="staircase-container">
                <div class="staircase">
                    <div class="stair stair-1"></div>
                    <div class="stair stair-2"></div>
                    <div class="stair stair-3"></div>
                    <div class="stair stair-4"></div>
                    <div class="stair stair-5"></div>
                    <div class="stair stair-6"></div>
                    <div class="stair stair-7"></div>
                    <div class="stair stair-8"></div>
                    <div class="stair stair-9"></div>
                    <div class="stair stair-10"></div>
                </div>
                <!-- Points lumineux qui descendent -->
                <div class="stair-dots-container" id="stairDotsContainer"></div>
            </div>
        </div>
        
        <div class="btn-container">
            <button class="btn" id="skipDeepeningBtn">Passer cette √©tape</button>
        </div>
    </div>
    
    <!-- Page d'exploration -->
    <div class="page" id="page5">
        <h2>Exploration et Approfondissement</h2>
        
        <div class="hypnotic-container">
            <div class="instruction" id="explorationInstruction">
                Imaginez un lieu de paix et de s√©curit√©. Un endroit o√π vous vous sentez parfaitement bien et d√©tendu(e).
            </div>
            
            <!-- Nouvelle sc√®ne d'exploration avec animations -->
            <div class="exploration-scene" id="explorationScene">
                <div class="exploration-background"></div>
                <div class="exploration-ring"></div>
                <div class="exploration-ring"></div>
                <div class="exploration-ring"></div>
                <!-- Les particules seront ajout√©es dynamiquement -->
            </div>

            <div class="progress-container">
                <div id="explorationProgress" style="width: 0%"></div>
            </div>
            
            <p>√Ä chaque respiration, sentez-vous descendre plus profond√©ment dans un √©tat de relaxation et de bien-√™tre.</p>
            <p>Prenez le temps d'explorer ce lieu int√©rieur, de ressentir ses qualit√©s et les sensations qu'il √©voque en vous.</p>
        </div>
        
        <div class="btn-container">
            <button class="btn" id="nextExplorationBtn">Passer cette √©tape</button>
        </div>
    </div>
    
    <!-- Page de retour -->
    <div class="page" id="page6">
        <h2>Retour √† la Conscience Ordinaire</h2>
        
        <div class="hypnotic-container">
            <div class="energy-scene" id="energyScene">
                <div class="energy-glow"></div>
            </div>
            
            <div class="instruction">
                Pr√©parez-vous √† revenir doucement, plein(e) d'√©nergie et de bien-√™tre
            </div>
            <div class="counter" id="awakeningCounter">5</div>
            
            <p>Je vais compter de 5 √† 1. √Ä 1, vous serez parfaitement √©veill√©(e), revigor√©(e) et plein(e) d'√©nergie positive.</p>
        </div>
        
        <div class="btn-container">
            <button class="btn" id="completeBtn">Terminer la s√©ance</button>
        </div>
    </div>
    
    <!-- Page finale avec section promo modernis√©e et d√©plac√©e √† la fin -->
    <div class="page" id="page7">
        <div class="intro-content">
            <div class="intro-icon">
                <div class="spiral-small" style="animation: rotate 30s linear infinite reverse;"></div>
            </div>
            <h2>S√©ance Compl√©t√©e</h2>
            <div class="intro-text">
                <p>F√©licitations pour avoir compl√©t√© cette s√©ance d'auto-hypnose guid√©e.</p>
                <p>Comment vous sentez-vous ? Prenez un moment pour observer les sensations dans votre corps et dans votre esprit.</p>
                <p>Chaque pratique de l'auto-hypnose renforce votre capacit√© √† entrer dans cet √©tat b√©n√©fique. Nous vous recommandons de pratiquer r√©guli√®rement pour approfondir votre exp√©rience.</p>
                
                <h3>Effets possibles que vous avez pu ressentir :</h3>
                <ul class="steps-list">
                    <li>Sensation de lourdeur ou de l√©g√®ret√©</li>
                    <li>Relaxation musculaire profonde</li>
                    <li>Alt√©ration de la perception du temps</li>
                    <li>D√©tachement des pens√©es quotidiennes</li>
                    <li>Cr√©ativit√© et imagination accrues</li>
                </ul>
            </div>
        </div>
        <div class="btn-container">
            <button class="btn" id="restartBtn">Refaire la s√©ance</button>
            <button class="btn btn-blue" id="homeBtn">Retour √† l'accueil</button>
        </div>
        
        <!-- Section promotionnelle d√©plac√©e apr√®s les boutons -->
        <div class="promo-section">
            <div class="promo-content">
                <div class="promo-header">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 80" width="180" height="48">
                        <style>
                            .logo-text { fill: #0A2463; font-family: Arial, sans-serif; font-weight: bold; }
                        </style>
                        <text x="20" y="35" class="logo-text" font-size="32">HYPNOSE</text>
                        <text x="50" y="70" class="logo-text" font-size="32">JOFFREY</text>
                    </svg>
                    <h3 class="promo-title">Application cr√©√©e par <span>Joffrey ROS</span></h3>
                </div>
                <p>Cette exp√©rience d'auto-hypnose a √©t√© con√ßue par un hypnoth√©rapeute professionnel. Pour d√©couvrir d'autres techniques ou prendre rendez-vous pour une s√©ance personnalis√©e :</p>
                <a href="https://hypnosejoffrey.fr" target="_blank" class="promo-button">
                    <span>Visiter hypnosejoffrey.fr</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                </a>
            </div>
        </div>
    </div>
</div>

<footer class="footer-legal">
    <div class="footer-section">
        <p>Cette application est con√ßue √† des fins √©ducatives. Consultez un professionnel pour toute utilisation th√©rapeutique de l'hypnose.</p>
    </div>
    
    <div class="footer-divider"></div>
    
    <div class="footer-section legal-notice">
        <h4>Conditions d'utilisation et mentions l√©gales</h4>
        <p>¬© 2025 Joffrey ROS (joffrey66@gmail.com) - Tous droits r√©serv√©s</p>
        <p>Cette ≈ìuvre est prot√©g√©e par le Code de la propri√©t√© intellectuelle fran√ßais (articles L.111-1 et suivants) et par les trait√©s internationaux sur le droit d'auteur.</p>
        <p>Toute reproduction, adaptation, repr√©sentation ou diffusion, int√©grale ou partielle, par quelque proc√©d√© que ce soit, sans autorisation expresse de l'auteur, est illicite et constitue une contrefa√ßon sanctionn√©e par les articles L.335-2 et suivants du Code de la propri√©t√© intellectuelle.</p>
        <p>L'article L.335-3 du Code de la propri√©t√© intellectuelle d√©finit notamment comme d√©lit de contrefa√ßon "toute reproduction, repr√©sentation ou diffusion, par quelque moyen que ce soit, d'une ≈ìuvre de l'esprit en violation des droits de l'auteur".</p>
        <p>Les contrevenants s'exposent √† des sanctions civiles et p√©nales pouvant aller jusqu'√† 3 ans d'emprisonnement et 300 000 ‚Ç¨ d'amende (article L.335-2 du CPI).</p>
        <p>Pour toute demande d'utilisation, veuillez contacter l'auteur √† : <a href="mailto:joffrey66@gmail.com">joffrey66@gmail.com</a></p>
    </div>
</footer>

<!-- Filigrane discret -->
<div id="jr-watermark" style="position: fixed; bottom: 10px; right: 10px; font-size: 10px; 
    opacity: 0.3; color: #666; z-index: 1000; pointer-events: none; 
    font-family: Arial, sans-serif;">
    ¬© 2025 Joffrey ROS
</div>

<!-- 
Code d√©velopp√© par Joffrey ROS (joffrey66@gmail.com) - SIGNATURE: JR-07032025-7842
Ce commentaire fait partie de la signature num√©rique et ne doit pas √™tre supprim√©.
-->

<!-- Script pour NoSleep.js et le code JavaScript principal -->
<script src="script.js"></script>
<script src="mobile-optimization.js"></script>

<!-- PWA Service Worker Registration -->
<script>
  // Enregistrer le service worker
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('service-worker.js')
        .then(reg => console.log('Service worker enregistr√©!'))
        .catch(err => console.log('Erreur d\'enregistrement du service worker', err));
    });
  }
</script>

<!-- Notification d'installation PWA -->
<div id="pwa-install-prompt" style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); 
    background-color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-radius: 10px; padding: 15px; 
    max-width: 90%; width: 300px; z-index: 9999; text-align: center;">
    <p style="margin-bottom: 10px;">Installez cette application sur votre appareil pour une meilleure exp√©rience.</p>
    <div style="display: flex; justify-content: space-between;">
        <button id="pwa-install-no" style="padding: 8px 12px; background: #eee; border: none; border-radius: 5px; cursor: pointer;">Pas maintenant</button>
        <button id="pwa-install-yes" style="padding: 8px 12px; background: #0A2463; color: white; border: none; border-radius: 5px; cursor: pointer;">Installer</button>
    </div>
</div>

<script>
// Gestion du prompt d'installation PWA
let deferredPrompt;
const pwaPrompt = document.getElementById('pwa-install-prompt');
const btnInstallYes = document.getElementById('pwa-install-yes');
const btnInstallNo = document.getElementById('pwa-install-no');

window.addEventListener('beforeinstallprompt', (e) => {
  // Emp√™cher Chrome de montrer automatiquement le prompt
  e.preventDefault();
  // Stocker l'√©v√©nement pour pouvoir le d√©clencher plus tard
  deferredPrompt = e;
  // Afficher notre prompt personnalis√©
  setTimeout(() => {
    if (deferredPrompt) {
      pwaPrompt.style.display = 'block';
    }
  }, 30000); // Afficher apr√®s 30 secondes
});

btnInstallYes.addEventListener('click', async () => {
  if (!deferredPrompt) return;
  
  // Afficher le prompt natif
  deferredPrompt.prompt();
  // Attendre que l'utilisateur r√©ponde
  const { outcome } = await deferredPrompt.userChoice;
  console.log(`User response: ${outcome}`);
  // Effacer le prompt car il ne peut pas √™tre r√©utilis√©
  deferredPrompt = null;
  // Cacher notre prompt personnalis√©
  pwaPrompt.style.display = 'none';
});

btnInstallNo.addEventListener('click', () => {
  // Cacher le prompt
  pwaPrompt.style.display = 'none';
  // Sauvegarder que l'utilisateur a refus√©
  localStorage.setItem('pwa-prompt-declined', 'true');
});

// Ne pas montrer le prompt si l'app est d√©j√† install√©e
window.addEventListener('appinstalled', () => {
  console.log('Application install√©e !');
  deferredPrompt = null;
  pwaPrompt.style.display = 'none';
});

// D√©tecter si l'app est d√©j√† lanc√©e en mode standalone/PWA
if (window.matchMedia('(display-mode: standalone)').matches || 
    window.navigator.standalone === true) {
  // L'application est d√©j√† install√©e et lanc√©e comme PWA
  console.log('Application lanc√©e en mode PWA');
}
</script>

</body>
</html>
